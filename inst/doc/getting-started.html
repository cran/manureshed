<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Olatunde D. Akanbi" />

<meta name="date" content="2026-01-27" />

<title>Getting Started with manureshed</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Getting Started with manureshed</h1>
<h4 class="author">Olatunde D. Akanbi</h4>
<h4 class="date">2026-01-27</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(manureshed)</span></code></pre></div>
<div id="what-is-manureshed" class="section level2">
<h2>What is manureshed?</h2>
<p>The <code>manureshed</code> package analyzes agricultural nutrient
balances at different spatial scales (county, HUC8 watershed, HUC2
region) and can integrate wastewater treatment plant (WWTP) effluent
data to show how municipal nutrient loads affect agricultural areas.</p>
</div>
<div id="view-cheatsheet" class="section level2">
<h2>View cheatsheet</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">view_cheatsheet</span>()</span></code></pre></div>
</div>
<div id="quick-start---complete-analysis" class="section level2">
<h2>Quick Start - Complete Analysis</h2>
<p>The easiest way to get started is with
<code>quick_analysis()</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Complete analysis with maps and plots</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">quick_analysis</span>(</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>,           <span class="co"># Choose: &quot;county&quot;, &quot;huc8&quot;, or &quot;huc2&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2016</span>,              <span class="co"># Any year 1987-2016</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>,   <span class="co"># Choose: &quot;nitrogen&quot;, &quot;phosphorus&quot;, or both</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">TRUE</span>       <span class="co"># Include wastewater plants (2007-2016 only)</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>)</span></code></pre></div>
<p>This creates: - Classification maps - WWTP facility maps<br />
- Network plots - Comparison charts - All saved to your output
directory</p>
</div>
<div id="step-by-step-analysis" class="section level2">
<h2>Step-by-Step Analysis</h2>
<div id="check-available-data" class="section level3">
<h3>1. Check Available Data</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># See what data is available</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">check_builtin_data</span>()</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># Download all data (optional, ~40MB)</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">download_all_data</span>()</span></code></pre></div>
</div>
<div id="basic-agricultural-analysis" class="section level3">
<h3>2. Basic Agricultural Analysis</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Analyze just agricultural data</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2010</span>,</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>,</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">FALSE</span>    <span class="co"># No WWTP data</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co"># Quick summary</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="fu">summarize_results</span>(results)</span></code></pre></div>
</div>
<div id="add-wwtp-data" class="section level3">
<h3>3. Add WWTP Data</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Analysis with wastewater plants (2007-2016 available)</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>results_wwtp <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>,</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2016</span>,</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="fu">c</span>(<span class="st">&quot;nitrogen&quot;</span>, <span class="st">&quot;phosphorus&quot;</span>),</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">TRUE</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="co"># See the difference WWTP makes</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">compare_analyses</span>(results, results_wwtp, <span class="st">&quot;nitrogen&quot;</span>)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="fu">print</span>(comparison)</span></code></pre></div>
</div>
</div>
<div id="understanding-the-results" class="section level2">
<h2>Understanding the Results</h2>
<div id="classifications" class="section level3">
<h3>Classifications</h3>
<p>Each spatial unit gets classified into:</p>
<ul>
<li><strong>Source</strong>: Has excess nutrients to export</li>
<li><strong>Sink Deficit</strong>: Needs nutrient imports</li>
<li><strong>Sink Fertilizer</strong>: Has fertilizer surplus, could
accept manure</li>
<li><strong>Within Watershed/County</strong>: Balanced</li>
<li><strong>Excluded</strong>: Too little cropland to analyze</li>
</ul>
</div>
<div id="accessing-results" class="section level3">
<h3>Accessing Results</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Agricultural data with classifications</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>agri_data <span class="ot">&lt;-</span> results<span class="sc">$</span>agricultural</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># WWTP facility data</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>wwtp_facilities <span class="ot">&lt;-</span> results<span class="sc">$</span>wwtp<span class="sc">$</span>nitrogen<span class="sc">$</span>facility_data</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co"># Combined results (agricultural + WWTP)</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> results<span class="sc">$</span>integrated<span class="sc">$</span>nitrogen</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co"># Analysis settings</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>parameters <span class="ot">&lt;-</span> results<span class="sc">$</span>parameters</span></code></pre></div>
</div>
</div>
<div id="creating-maps" class="section level2">
<h2>Creating Maps</h2>
<div id="classification-maps" class="section level3">
<h3>Classification Maps</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Basic nitrogen map</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>n_map <span class="ot">&lt;-</span> <span class="fu">map_agricultural_classification</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="at">data =</span> results<span class="sc">$</span>agricultural,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="at">nutrient =</span> <span class="st">&quot;nitrogen&quot;</span>, </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="at">classification_col =</span> <span class="st">&quot;N_class&quot;</span>,</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Nitrogen Classifications&quot;</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>)</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co"># Save the map</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="fu">save_plot</span>(n_map, <span class="st">&quot;nitrogen_map.png&quot;</span>, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>)</span></code></pre></div>
</div>
<div id="wwtp-maps" class="section level3">
<h3>WWTP Maps</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Map WWTP facilities</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>facility_map <span class="ot">&lt;-</span> <span class="fu">map_wwtp_points</span>(</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  results<span class="sc">$</span>wwtp<span class="sc">$</span>nitrogen<span class="sc">$</span>spatial_data,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="at">nutrient =</span> <span class="st">&quot;nitrogen&quot;</span>,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Nitrogen WWTP Facilities&quot;</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co"># Map WWTP influence on agricultural areas</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>influence_map <span class="ot">&lt;-</span> <span class="fu">map_wwtp_influence</span>(</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  results<span class="sc">$</span>integrated<span class="sc">$</span>nitrogen,</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  <span class="at">nutrient =</span> <span class="st">&quot;nitrogen&quot;</span>, </span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;WWTP Influence on Nitrogen&quot;</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="working-with-different-years" class="section level2">
<h2>Working with Different Years</h2>
<div id="single-years" class="section level3">
<h3>Single Years</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Any year 1987-2016 for agricultural data</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>results_1990 <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(<span class="at">scale =</span> <span class="st">&quot;county&quot;</span>, <span class="at">year =</span> <span class="dv">1990</span>, </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>                                     <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>, <span class="at">include_wwtp =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>results_2005 <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(<span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>, <span class="at">year =</span> <span class="dv">2005</span>, </span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>                                     <span class="at">nutrients =</span> <span class="st">&quot;phosphorus&quot;</span>, <span class="at">include_wwtp =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co"># WWTP data available 2007-2016</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>results_2012 <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(<span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>, <span class="at">year =</span> <span class="dv">2012</span>, </span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>                                     <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>, <span class="at">include_wwtp =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="multiple-years" class="section level3">
<h3>Multiple Years</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Analyze several years at once</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>batch_results <span class="ot">&lt;-</span> <span class="fu">batch_analysis_years</span>(</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">years =</span> <span class="dv">2014</span><span class="sc">:</span><span class="dv">2016</span>,</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;county&quot;</span>, </span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">TRUE</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="using-custom-wwtp-data" class="section level2">
<h2>Using Custom WWTP Data</h2>
<p>For years outside 2007-2016, provide your own WWTP data:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Use your own WWTP files</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>results_2020 <span class="ot">&lt;-</span> <span class="fu">run_builtin_analysis</span>(</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>,</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2020</span>,  <span class="co"># Agricultural data available</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>,</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  <span class="at">custom_wwtp_nitrogen =</span> <span class="st">&quot;my_wwtp_data_2020.csv&quot;</span>,</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  <span class="at">wwtp_load_units =</span> <span class="st">&quot;lbs&quot;</span>  <span class="co"># Handle different units</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="state-specific-analysis" class="section level2">
<h2>State-Specific Analysis</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Analyze a specific state</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>texas_results <span class="ot">&lt;-</span> <span class="fu">run_state_analysis</span>(</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;TX&quot;</span>,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2016</span>,</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;nitrogen&quot;</span>,</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>  <span class="at">include_wwtp =</span> <span class="cn">TRUE</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="co"># Quick state analysis with maps</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>ohio_quick <span class="ot">&lt;-</span> <span class="fu">quick_state_analysis</span>(</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;OH&quot;</span>,</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;huc8&quot;</span>, </span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2015</span>,</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>  <span class="at">nutrients =</span> <span class="st">&quot;phosphorus&quot;</span></span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="loading-individual-datasets" class="section level2">
<h2>Loading Individual Datasets</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Load specific datasets</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>county_2016 <span class="ot">&lt;-</span> <span class="fu">load_builtin_nugis</span>(<span class="st">&quot;county&quot;</span>, <span class="dv">2016</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>huc8_boundaries <span class="ot">&lt;-</span> <span class="fu">load_builtin_boundaries</span>(<span class="st">&quot;huc8&quot;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>wwtp_nitrogen <span class="ot">&lt;-</span> <span class="fu">load_builtin_wwtp</span>(<span class="st">&quot;nitrogen&quot;</span>, <span class="dv">2012</span>)</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="co"># Check what years are available</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="fu">list_available_years</span>()</span></code></pre></div>
</div>
<div id="tips-for-success" class="section level2">
<h2>Tips for Success</h2>
<div id="memory-management" class="section level3">
<h3>Memory Management</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># For large analyses, clear cache if needed</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="fu">clear_data_cache</span>()</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co"># Check package health</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="fu">health_check</span>()</span></code></pre></div>
</div>
<div id="quality-checks" class="section level3">
<h3>Quality Checks</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Always validate your results</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">quick_check</span>(results)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co"># Get package citation</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="fu">citation_info</span>()</span></code></pre></div>
</div>
</div>
<div id="next-steps" class="section level2">
<h2>Next Steps</h2>
<ul>
<li><strong>Advanced Features</strong>: See
<code>vignette(&quot;advanced-features&quot;)</code> for state analysis, custom
thresholds, parallel processing</li>
<li><strong>Visualization Guide</strong>: See
<code>vignette(&quot;visualization-guide&quot;)</code> for detailed mapping
options<br />
</li>
<li><strong>Data Integration</strong>: See
<code>vignette(&quot;data-integration&quot;)</code> for using custom datasets</li>
</ul>
</div>
<div id="getting-help" class="section level2">
<h2>Getting Help</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># Function documentation</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>?run_builtin_analysis</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>?quick_analysis</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>?map_agricultural_classification</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="co"># Package overview</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>?manureshed</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="co"># Check if everything is working</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="fu">health_check</span>()</span></code></pre></div>
<p>Thatâ€™s it! You now know the basics of using <code>manureshed</code>
for nutrient flow analysis.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
